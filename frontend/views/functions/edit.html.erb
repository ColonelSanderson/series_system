<%= setup_context :object => @function, :title => @function.title %>

<%= form_for @function, :as => "function", :url => {:action => :update}, :html => {:class => 'form-horizontal aspace-record-form'}.merge(update_monitor_params(@function)) do |f| %>
  <%= form_context :function, @function do |form| %>
    <div class="row">
      <div class="col-md-3">
        <%= render_aspace_partial :partial => "sidebar" %>
      </div>
      <div class="col-md-9">
        <%= render_aspace_partial :partial => "toolbar" %>
        <div class="record-pane">
          <%= link_to_help :topic => "function" %>
          <h2><%= @function.title %>  <span class="label label-info"><%= I18n.t("function._singular") %></span></h2>
          <br/>
          <%= render_aspace_partial :partial => "functions/form", :locals => {:form => form} %>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary"><%= I18n.t("function._frontend.action.save") %></button>
            <%= link_to I18n.t("actions.cancel"), :back, :class => "btn btn-cancel btn-default" %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
<% end %>

<%= javascript_include_tag("subrecord.crud") %>
<%= javascript_include_tag("form") %>